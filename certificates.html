<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>منشئ شهادات تقديرية</title>

    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&family=Cairo:wght@600;900&display=swap"
      rel="stylesheet"
    />

    <!-- ملف الأنماط الخاص بنا -->
    <link rel="stylesheet" href="style/certificates.css" />
    <link rel="stylesheet" href="style/style.css" />
  </head>

  <body>
    <header>
      <div class="container">
        <div class="logo-container">
          <div class="logo">
            <i class="fas fa-certificate"></i>
          </div>
          <div>
            <h1>دار أبناء سلنارتي بالرياض</h1>
            <p class="subtitle">
              خدمة الاستعلام عن حالة الاشتراكات السنوية للأعضاء
            </p>
          </div>
        </div>

        <div class="nav-links">
          <a href="./index.html"><i class="fas fa-home"></i> الرئيسية</a>
          <a href="./add_data.html"
            ><i class="fas fa-user-plus"></i> إضافة عضو جديد</a
          >
          <a href="./members.html"
            ><i class="fas fa-users"></i> قائمة الأعضاء</a
          >
          <a href="./reports.html"><i class="fas fa-chart-bar"></i> التقارير</a>
          <a href="./committee.html"
            ><i class="fas fa-users-cog"></i> لجنة الإدارة</a
          >
          <a href="./certificates.html" class="active"
            ><i class="fas fa-certificate"></i> شهادات التقدير</a
          >
        </div>
      </div>
    </header>

    <div class="container">
      <!-- إعدادات الشهادة -->
      <div class="certificates-header">
        <h2>
          <i class="fas fa-certificate"></i> شهادات التقدير للأعضاء المميزين
        </h2>
        <p>
          هنا يمكنك إنشاء وإصدار شهادات تقديرية للأعضاء المسددين والمميزين في
          الدار
        </p>
      </div>

      <div class="instructions">
        <h3><i class="fas fa-info-circle"></i> التعليمات:</h3>
        <ul>
          <li>اختر الأعضاء المسددين لعمل شهادات تقدير لهم</li>
          <li>يمكنك تخصيص نص الشهادة وإضافة توقيعات</li>
          <li>متاح عدة تصاميم للشهادات يمكنك الاختيار منها</li>
          <li>يمكنك طباعة الشهادات أو حفظها كصور</li>
        </ul>
      </div>
      <div class="form-section">
        <label>اتجاه الشهادة:</label>
        <div class="orientation-options">
          <label>
            <input type="radio" name="orientation" value="landscape" checked />
            أفقي
          </label>
        </div>

        <label>اختر خلفية الشهادة:</label>
        <div class="background-thumbnails" id="background-thumbnails">
          <img src="backgrounds/elegant.png" alt="أنيق" data-bg="elegant.png" />
          <img src="backgrounds/gold.png" alt="ذهبي" data-bg="gold.png" />
          <img src="backgrounds/marble.png" alt="رخامي" data-bg="marble.png" />
          <img src="backgrounds/paper.png" alt="ورقي" data-bg="paper.png" />
        </div>
        <input type="hidden" id="selected-bg-image" value="" />
      </div>

      <!-- الشهادة -->
      <div class="container my-4">
        <h1 class="text-center mb-4">منشئ شهادات تقديرية</h1>

        <div class="row">
          <!-- إعدادات النص -->
          <div class="col-lg-6">
            <div class="card">
              <div class="card-header">
                <i class="fas fa-edit"></i> إعدادات نص الشهادة
              </div>

              <div class="card-body">
                <div class="mb-3">
                  <label for="name" class="form-label">الاسم الكامل:</label>
                  <input
                    type="text"
                    class="form-control"
                    id="name"
                    placeholder="أدخل إسم العضو"
                  />
                </div>
                <div class="mb-3">
                  <label for="certificateTitle" class="form-label"
                    >عنوان الشهادة</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="certificateTitle"
                    value="شهادة تقدير"
                  />
                </div>
                <div class="mb-3">
                  <label for="certificateSubtitle" class="form-label"
                    >عنوان الفرع</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="certificateSubtitle"
                    value="تـمـنـحـهـا إدارة دار أبناء سلنارتي بالرياض"
                  />
                </div>
                <div class="mb-3">
                  <label for="certificateText" class="form-label"
                    >نص الشهادة</label
                  >
                  <textarea class="form-control" id="certificateText" rows="4">
تقديراً لالتزامكم الـمثالي بـسداد الاشتراكات بشكـل مـنتظم، ودعمكم المادي المستمر الذي يمثل عصب استمرارية رســالـتـنا الإنـسـانـية. ونـخص بالـشكر حرصـكم الواضـح على مصـلحة الـدار ومساهماتكم الفاعلة في دعم برامجها وأنشطتها. إن هذا التعاون المتميز يمثل نموذجاً يُحتذى به في الشراكة المجتمعية الفاعلة، ونؤكد لكم أن جهودكم محل تقدير واحترام جميع المستفيدين.
</textarea
                  >
                </div>
                <!-- قسم تاريخ -->
                <div class="mb-3">
                  <label for="certificateDate" class="form-label"
                    >تاريخ الشهادة</label
                  >
                  <input
                    type="date"
                    class="form-control"
                    id="certificateDate"
                  />
                </div>
              </div>
              <!-- قسم الختم -->
              <div class="col-lg-6" id="stampSection">
                <div class="card">
                  <div class="card-header">
                    <i class="fas fa-signature"></i> نص الختم (نصي)
                  </div>
                  <!-- <label for="stampText" class="form-label">نص الختم (نصي)</label></div> -->
                  <input
                    type="text"
                    class="form-control"
                    id="stampText"
                    placeholder="مثال: ختم الإدارة"
                  />
                </div>
              </div>
            </div>
          </div>

          <!-- التوقيعات والختم + أدوات -->
          <div class="col-lg-6">
            <div class="card">
              <div class="card-header">
                <i class="fas fa-signature"></i> التوقيعات والختم
              </div>
              <div class="card-body">
                <!-- قسم الرئيس -->
                <div class="row mb-3" id="chairmanSection">
                  <div class="col-md-6">
                    <label for="chairmanTitle" class="form-label"
                      >منصب الرئيس</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="chairmanTitle"
                      value="رئيس لجنة دار أبناء سلنارتي"
                    />
                  </div>
                  <div class="col-md-6">
                    <label for="chairmanName" class="form-label"
                      >اسم الرئيس</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="chairmanName"
                      value="جمال يوسف عبد الدائم"
                    />
                  </div>
                  <!-- توقيع الرئيس -->
                  <div class="mb-3">
                    <label
                      for="chairmanSignatureUpload"
                      id="chairmanSignatureUploadLabel"
                      class="form-label"
                      >صورة توقيع الرئيس (اختياري)</label
                    >
                    <input
                      type="file"
                      class="form-control"
                      id="chairmanSignatureUpload"
                      accept="image/*"
                    />
                  </div>
                </div>

                <!-- قسم أمين الصندوق -->
                <div class="row mb-3" id="treasurerSection">
                  <div class="col-md-6">
                    <label for="treasurerTitle" class="form-label"
                      >منصب أمين الصندوق</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="treasurerTitle"
                      value="أمين مال دار أبناء سلنارتي"
                    />
                  </div>
                  <div class="col-md-6">
                    <label for="treasurerName" class="form-label"
                      >اسم أمين الصندوق</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="treasurerName"
                      value="فائز فرح سعيد"
                    />
                  </div>
                  <!-- توقيع أمين الصندوق -->
                  <div class="mb-3">
                    <label
                      for="treasurerSignatureUpload"
                      id="treasurerSignatureUploadLabel"
                      class="form-label"
                      >صورة توقيع أمين الصندوق (اختياري)</label
                    >
                    <input
                      type="file"
                      class="form-control"
                      id="treasurerSignatureUpload"
                      accept="image/*"
                    />
                  </div>
                </div>

                <!-- لا حاجة لزر "إضافة ختم" لأن الختم يظهر تلقائيًا عند الكتابة -->
                <!-- قسم الختم -->
              </div>
            </div>
            <!-- أزرار التصميم -->
            <div class="card mt-3">
              <div class="card-header">
                <i class="fas fa-tools"></i> أدوات التصميم
              </div>
              <div class="card-body">
                <div class="d-grid gap-2">
                  <button id="generateBtn" class="btn btn-primary">
                    <i class="fas fa-sync-alt"></i> إنشاء الشهادة
                  </button>

                  <button
                    id="downloadBtn"
                    class="btn btn-info"
                    style="display: none"
                    alt="downloadBtn"
                  >
                    <i class="fas fa-download"></i> تنزيل كصورة و طباعة
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- الشهادة -->
        <div class="certificate mt-4" id="certificate">
          <img id="cert-bg" src="" alt="خلفية الشهادة" />
          <div class="cert-content" id="certContent">
            <!-- سيتم تعبئته عبر JavaScript -->
          </div>
        </div>
      </div>
    </div>
    <footer>
      <div class="container">
        <p>جميع الحقوق محفوظة © دار أبناء سلنارتي بالرياض 2024</p>
        <p>
          للاستفسارات التقنية:
          <a href="mailto:salanarty@gmail.com">salanarty@gmail.com</a> | هاتف
          الدعم: <a href="tel:+966502191635">+966502191635</a>
        </p>
      </div>
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="db/supabase-config.js"></script>
    <script src="db/supabase-init.js"></script>
    <script src="db/supabase-db.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/certificates.js"></script>
  </body>
</html>
